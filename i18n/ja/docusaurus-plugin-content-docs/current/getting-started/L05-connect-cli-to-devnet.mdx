---
sidebar_position: 5
title: "CLIをDevnetに接続する"
description: "Sui CLIでDevnetに接続し、アカウントを作成する"
---

# CLIをDevnetに接続する

[Sui CLIをインストールする](./L03-install-sui-cli.mdx)でインストールしたSui CLIを、Devnetに接続しましょう。**難しくありません**。コマンドをいくつか実行するだけで完了します。

:::info
この設定は一度行えば、以降は不要です。
:::

## Sui CLIの初期設定

Sui CLIを初めて使うときは、初期設定が必要です。以下のコマンドを実行しましょう。

```bash
sui client envs
```

### 初回の場合（設定ファイルがない場合）

以下のようなメッセージが表示されたら、初期設定が必要です。

```
No sui config found in `/home/user/.sui/sui_config/client.yaml`, create one [Y/n]?
```

**`y`** を入力してEnterを押すと、自動的にキーペア（アドレス）が生成され、設定が完了します。

```
y
Generated new keypair and alias for address with scheme "ed25519" [alias: 0x...]
  secret recovery phrase : [word1 word2 word3 ...]
Created "/home/user/.sui/sui_config/client.yaml"
Set active environment to testnet
╭─────────┬─────────────────────────────────────┬────────╮
│ alias   │ url                                 │ active │
├─────────┼─────────────────────────────────────┼────────┤
│ testnet │ https://fullnode.testnet.sui.io:443 │ *      │
│ mainnet │ https://fullnode.mainnet.sui.io:443 │        │
│ devnet  │ https://fullnode.devnet.sui.io:443  │        │
│ local   │ http://127.0.0.1:9000               │        │
╰─────────┴─────────────────────────────────────┴────────╯
```

:::danger リカバリーフレーズを安全に保管してください
`secret recovery phrase`（リカバリーフレーズ、シードフレーズとも呼ばれます）はウォレットの「鍵」です。

- 絶対に他人に教えないでください。
- スクリーンショットを撮ったり、チャット・メール・クラウドメモに保存しないでください。
- 紙に書いてオフラインで安全に保管してください。
:::

### 既に設定済みの場合

プロンプトが表示されずにネットワーク一覧が表示された場合は、すでに初期設定が完了しています。そのまま次のセクションに進んでください。

---

## Devnetに接続する

初期設定後のデフォルトは **testnet** です。Devnetに切り替えましょう。

```bash
sui client switch --env devnet
```

切り替えが成功すると、以下のように表示されます。

```
Active environment switched to [devnet]
```

正しく切り替わったか確認しましょう。

```bash
sui client active-env
```

`devnet` と表示されれば成功です。

:::tip ネットワークの一覧を確認する
`sui client envs` で、設定済みのネットワーク一覧を確認できます。`active` 列に `*` がついているのが現在のネットワークです。

```
╭─────────┬─────────────────────────────────────┬────────╮
│ alias   │ url                                 │ active │
├─────────┼─────────────────────────────────────┼────────┤
│ testnet │ https://fullnode.testnet.sui.io:443 │        │
│ mainnet │ https://fullnode.mainnet.sui.io:443 │        │
│ devnet  │ https://fullnode.devnet.sui.io:443  │ *      │
│ local   │ http://127.0.0.1:9000               │        │
╰─────────┴─────────────────────────────────────┴────────╯
```
:::

---

## アドレスを確認する

CLIに紐づいているアドレスを確認しましょう。

```bash
sui client active-address
```

`0x` で始まるアドレスが表示されます。

```
0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
```

このアドレスが、あなたのSui CLIウォレットのアドレスです。

---

## 成功の確認

以下が確認できれば成功です。

- `sui client active-env` が `devnet` を返す
- `sui client active-address` でアドレス（`0x...`）が表示される

---

## このレッスンでやったこと

- [x] Sui CLIの初期設定を完了した
- [x] Devnetに接続した
- [x] CLIのアドレスを確認した
